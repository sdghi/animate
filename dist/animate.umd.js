!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@sdg/animate"]={})}(this,(function(e){"use strict";const t={root:null,rootMargin:"0px",threshold:1};function n(e,t,n,i){const o=e.top-t.top,r=e.left-t.left,s=e.height/t.height,l=e.width/t.width,c=n.animate([{transformOrigin:"top left",transform:`translate3d(${r}px, ${o}px, 0) scale(${l}, ${s})`},{transformOrigin:"top left",transform:"none"}],{duration:i.duration,easing:i.easing,fill:"both"});"reverse"===i.direction?c.reverse():c.play(),i.done&&(c.onfinish=i.done)}e.Watcher=class{constructor(e){this.el=document.querySelector(e)}log(){console.log("element:",this.el)}scroll(e,n,i=t){let o=new IntersectionObserver((t=>{t.forEach((t=>{const i=t.intersectionRatio;"enter"===e&&t.isIntersecting&&this.scrollEnter(n),"exit"===e&&0===i&&this.scrollExit(n)}))}),i);const r=()=>{o.observe(this.el),requestAnimationFrame(r)};requestAnimationFrame(r)}scrollExit(e){e(this.el)}scrollEnter(e){e(this.el)}click(e){this.el.addEventListener("click",(t=>{e(this.el,t)}))}},e.crossfade=function(e,t,i,o={duration:300,easing:"ease-in-out",direction:"forwards"}){const r=document.querySelector(e),s=r.getBoundingClientRect();r.style.visibility="hidden";const l=document.querySelector(t),c=l.getBoundingClientRect();i(l),n(s,c,l,o)},e.flip=function(e,t,i={duration:300,easing:"ease-in-out",direction:"forwards"}){const o=document.querySelector(e),r=o.getBoundingClientRect();t(o),n(r,o.getBoundingClientRect(),o,i)},e.screen=function(e,t){window.addEventListener("resize",(n=>{const i=n.target.innerWidth,o=e.split(/[0-9]/)[0],r=parseInt(e.match(/\d+/g)[0]);">="===o?r>=i&&t(n):"<="===o?r<=i&&t(n):">"===o?r>i&&t(n):"<"===o?r<i&&t(n):"="===o&&i===r&&t(n)}))},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
