var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,t,n)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,__spreadValues=(e,t)=>{for(var n in t||(t={}))__hasOwnProp.call(t,n)&&__defNormalProp(e,n,t[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(t))__propIsEnum.call(t,n)&&__defNormalProp(e,n,t[n]);return e};!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@sdg/animate"]={})}(this,(function(e){"use strict";function t(e,t=document){return"string"==typeof e?t.querySelector(e):e}function n(e,t=document){return"string"==typeof e?t.querySelectorAll(e):e}function r(e,t,n,r={duration:300,easing:"ease-in-out",direction:"forwards",scale:!0}){const i=e.top-t.top,o=e.left-t.left;let s=e.height/t.height,l=e.width/t.width;console.log(e.height,t.height,s,l);const c=n.animate([{transformOrigin:"top left",transform:`translate3d(${o}px, ${i}px, 0)  scale(${l}, ${s})`},{transformOrigin:"top left",transform:"none"}],{duration:r.duration,easing:r.easing,fill:"both"});"reverse"===r.direction?c.reverse():c.play(),r.done&&(c.onfinish=r.done)}function i(e){const t=e[0],n=e[1];return{inc:function(e,r){return e===n?t:e+r},dec:function(e,r){return e===t?n:e-r}}}const o={root:null,rootMargin:"0px",threshold:1};const s={lerp:()=>console.log("lerp")},l={itemSelector:".gallery__item",start:0};e.Gallery=class{constructor(e,r=l){this.options=r,this.el=t(e),this.items=n(r.itemSelector,this.el),this.currentIndex=r.start}node(){return this.el}getItems(){return this.items}getIndex(){return this.currentIndex}getCurrent(){return __spreadValues({index:this.currentIndex},this.items[this.currentIndex])}getNext(){const e=i([0,this.items.length-1]).inc(this.currentIndex,1);return __spreadValues({index:e},this.items[e])}getPrevious(){const e=i([0,this.items.length-1]).dec(this.currentIndex,1);return __spreadValues({index:e},this.items[e])}getItem(e){return __spreadValues({index:e},this.items[e])}next(e){this.currentIndex=i([0,this.items.length-1]).inc(this.currentIndex,1),e&&e(this.currentIndex)}previous(e){this.currentIndex=i([0,this.items.length-1]).dec(this.currentIndex,1),e&&e(this.currentIndex)}log(){console.log({el:this.el,options:this.options,items:this.items})}},e.Watcher=class{constructor(e){this.el=t(e)}log(){console.log("element:",this.el)}node(){return this.el}scroll(e,t,n=o){let r=new IntersectionObserver((n=>{n.forEach((n=>{const r=n.intersectionRatio;"enter"===e&&n.isIntersecting&&this.scrollEnter(t),"exit"===e&&0===r&&this.scrollExit(t)}))}),n);const i=()=>{r.observe(this.el),requestAnimationFrame(i)};requestAnimationFrame(i)}scrollExit(e){e(this.el)}scrollEnter(e){e(this.el)}click(e){this.el.addEventListener("click",(t=>{e(this.el,t)}))}},e.animateLayout=function(e,n,i,o){const s=t(e),l=s.querySelectorAll(n);let c=[];Array.from(l).map((e=>{const t=e.getBoundingClientRect();c.push(t)})),i(s),l.forEach(((e,t)=>{const n=e.getBoundingClientRect();r(c[t],n,e,o)}))},e.crossfade=function(e,n,i,o){const s=t(e),l=s.getBoundingClientRect();s.style.visibility="hidden";const c=t(n),u=c.getBoundingClientRect();i(c),r(l,u,c,o)},e.flip=function(e,n,i){const o=t(e),s=o.getBoundingClientRect();n(o),r(s,o.getBoundingClientRect(),o,i)},e.getAllElements=n,e.getElement=t,e.loop=i,e.math=s,e.runFLIP=r,e.screen=function(e,t){window.matchMedia(e).addEventListener("change",(e=>e.matches&&t.true?t.true():t.false?t.false():void 0))},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
