!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@sdg/animate"]={})}(this,(function(e){"use strict";function t(e){return"string"==typeof e?document.querySelector(e):e}function n(e,t,n,o={duration:300,easing:"ease-in-out",direction:"forwards",scale:!0}){const i=e.top-t.top,s=e.left-t.left;let r=e.height/t.height,l=e.width/t.width;console.log(e.height,t.height,r,l);const c=n.animate([{transformOrigin:"top left",transform:`translate3d(${s}px, ${i}px, 0)  scale(${l}, ${r})`},{transformOrigin:"top left",transform:"none"}],{duration:o.duration,easing:o.easing,fill:"both"});"reverse"===o.direction?c.reverse():c.play(),o.done&&(c.onfinish=o.done)}const o={root:null,rootMargin:"0px",threshold:1};const i={lerp:()=>console.log("lerp")};e.Watcher=class{constructor(e){this.el=t(e)}log(){console.log("element:",this.el)}node(){return this.el}scroll(e,t,n=o){let i=new IntersectionObserver((n=>{n.forEach((n=>{const o=n.intersectionRatio;"enter"===e&&n.isIntersecting&&this.scrollEnter(t),"exit"===e&&0===o&&this.scrollExit(t)}))}),n);const s=()=>{i.observe(this.el),requestAnimationFrame(s)};requestAnimationFrame(s)}scrollExit(e){e(this.el)}scrollEnter(e){e(this.el)}click(e){this.el.addEventListener("click",(t=>{e(this.el,t)}))}},e.animateLayout=function(e,o,i,s){const r=t(e),l=r.querySelectorAll(o);let c=[];Array.from(l).map((e=>{const t=e.getBoundingClientRect();c.push(t)})),i(r),l.forEach(((e,t)=>{const o=e.getBoundingClientRect();n(c[t],o,e,s)}))},e.crossfade=function(e,o,i,s){const r=t(e),l=r.getBoundingClientRect();r.style.visibility="hidden";const c=t(o),a=c.getBoundingClientRect();i(c),n(l,a,c,s)},e.flip=function(e,o,i){const s=t(e),r=s.getBoundingClientRect();o(s),n(r,s.getBoundingClientRect(),s,i)},e.math=i,e.screen=function(e,t){window.matchMedia(e).addEventListener("change",(e=>e.matches&&t.true?t.true():t.false?t.false():void 0))},Object.defineProperty(e,"__esModule",{value:!0}),e[Symbol.toStringTag]="Module"}));
